import"../chunks/CWj6FrbW.js";import{i as I}from"../chunks/Bykrahq8.js";import{p as J,s as t,f as L,h as N,a as Q,t as Y,g as a,e as x,b as y,c as R,d as r,i as w,j as s,m as p,$ as T,r as i}from"../chunks/C1cF_f_f.js";import{i as j}from"../chunks/oCXtbbpy.js";import{b as D,r as K}from"../chunks/CGMAZzXY.js";import{s as U}from"../chunks/KxSqMrGa.js";import{p as W}from"../chunks/Bfc47y5P.js";import{g as X}from"../chunks/C9t7Hmsj.js";import{a as Z,i as ee,l as ae}from"../chunks/D1b5UXiN.js";var te=L('<div class="text-red-600 text-center mb-4"> </div>'),re=L('<div class="text-center mt-4 text-gray-600"><p>You need an internet connection to login.</p> <p>Once logged in, you can use the app offline.</p></div>'),se=L('<div> </div> <div class="container" style="margin-top: 3rem;"><div class="card" style="max-width: 400px; margin: 2rem auto;"><div class="text-center mb-6"><h1 class="text-2xl font-bold mb-4">Aid Platform</h1> <p class="text-gray-600">Volunteer Mobile App</p></div> <form><div class="form-group"><label for="email" class="form-label">Email</label> <input id="email" type="email" class="input" placeholder="Enter your email" required/></div> <div class="form-group"><label for="password" class="form-label">Password</label> <input id="password" type="password" class="input" placeholder="Enter your password" required/></div> <!> <button type="submit" class="btn"> </button></form> <!></div></div>',1);function fe(S,V){J(V,!1);let m=p(""),u=p(""),o=p(!1),l=p(""),P=null,n=p(!0);Z.subscribe(e=>{P=e.user,P&&X("/forms")}),ee.subscribe(e=>{t(n,e)});async function k(){if(!a(m)||!a(u)){t(l,"Please enter both email and password");return}if(!a(n)){t(l,"You need to be online to login");return}t(o,!0),t(l,"");const e=await ae(a(m),a(u));e.success||t(l,e.error||"Login failed"),t(o,!1)}function E(e){e.key==="Enter"&&k()}I();var O=se();N(e=>{T.title="Login - Aid Platform Mobile"});var v=Q(O);let $;var z=s(v,!0);i(v);var A=r(v,2),q=s(A),f=r(s(q),2),g=s(f),c=r(s(g),2);K(c),i(g);var _=r(g,2),b=r(s(_),2);K(b),i(_);var M=r(_,2);{var B=e=>{var d=te(),H=s(d,!0);i(d),Y(()=>w(H,a(l))),y(e,d)};j(M,e=>{a(l)&&e(B)})}var h=r(M,2),C=s(h,!0);i(h),i(f);var F=r(f,2);{var G=e=>{var d=re();y(e,d)};j(F,e=>{a(n)||e(G)})}i(q),i(A),Y(e=>{$=U(v,1,"status-bar",null,$,e),w(z,a(n)?"ðŸŸ¢ Online":"ðŸ”´ Offline"),c.disabled=a(o),b.disabled=a(o),h.disabled=a(o)||!a(n),w(C,a(o)?"Logging in...":"Login")},[()=>({online:a(n)})]),D(c,()=>a(m),e=>t(m,e)),x("keypress",c,E),D(b,()=>a(u),e=>t(u,e)),x("keypress",b,E),x("submit",f,W(k)),y(S,O),R()}export{fe as component};
